<app-header-nolog/>

<div class="register-container">
  <div class="hero-section">
    <div class="overlay"></div>
    <div class="hero-content">
      <h2>Únete a la comunidad de eventos tech más grande</h2>
      <p>Conecta, aprende y crece con profesionales de la tecnología</p>
    </div>
  </div>

  <div class="form-section">
    <div class="form-container">
      <div class="header">
        <div class="logo-container">
          <img src="logo.png" alt="TechConnect Logo" class="logo">
        </div>
        <h1>Crear cuenta</h1>
        <p>Únete a TechConnect y comienza a explorar eventos increíbles</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        <!-- Nombre -->
        <div class="form-grid">
          <div class="form-group">
            <label for="nombre">Nombre</label>
            <div class="input-container">
              <i class="fas fa-user"></i>
              <input type="text" id="nombre" formControlName="firstName" placeholder="Tu nombre" required>
              <mat-error *ngIf="controlHasError('firstName', 'required')">Este campo es obligatorio</mat-error>
            </div>
          </div>

          <!-- Apellido -->
          <div class="form-group">
            <label for="apellido">Apellido</label>
            <div class="input-container">
              <i class="fas fa-user"></i>
              <input type="text" id="apellido" formControlName="lastName" placeholder="Tu apellido" required>
              <mat-error *ngIf="controlHasError('lastName', 'required')">Este campo es obligatorio</mat-error>
            </div>
          </div>
        </div>


        <!-- Teléfono -->
        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <div class="input-container">
            <i class="fas fa-phone"></i>
            <input matInput type="tel" id="telefono" formControlName="telefono" placeholder="+51 xxx xxx xxx" required>
            <mat-error *ngIf="controlHasError('telefono', 'invalidTelefono')">
              El número de teléfono solo puede contener dígitos, espacios, guiones, paréntesis y un signo '+' opcional.
            </mat-error>
          </div>
        </div>


        <!-- Correo Electrónico -->
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <div class="input-container">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" formControlName="email" placeholder="tu@email.com" required>
            <mat-error *ngIf="controlHasError('email', 'required')">Este campo es obligatorio</mat-error>
            <mat-error *ngIf="controlHasError('email', 'email')">Correo electrónico inválido</mat-error>
          </div>
        </div>

        <!-- Contraseña -->
        <div class="form-group">
          <label for="password">Contraseña</label>
          <div class="input-container">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" formControlName="password" placeholder="Mínimo 8 caracteres" required>
            <button type="button" class="toggle-password">
              <i class="fas fa-eye"></i>
            </button>
            <mat-error *ngIf="controlHasError('password', 'required')">Este campo es obligatorio</mat-error>
            <mat-error *ngIf="controlHasError('password', 'minlength')">Debe tener al menos 8 caracteres</mat-error>
            <mat-error *ngIf="controlHasError('password', 'maxlength')">No puede tener más de 20 caracteres</mat-error>
            <mat-error *ngIf="controlHasError('password', 'pattern')">
              Debe incluir números, mayúsculas, minúsculas y un carácter especial
            </mat-error>
          </div>
        </div>

        <!-- Confirmar Contraseña -->
        <div class="form-group">
          <label for="ConfirmPassword">Confirmar Contraseña</label>
          <div class="input-container">
            <i class="fas fa-lock"></i>
            <input type="password" id="ConfirmPassword" formControlName="ConfirmPassword" placeholder="Confirma tu contraseña" required>
            <button type="button" class="toggle-password">
              <i class="fas fa-eye"></i>
            </button>
            <mat-error *ngIf="controlHasError('ConfirmPassword', 'required')">Este campo es obligatorio</mat-error>
            <mat-error *ngIf="registerForm.hasError('mismatch')">Las contraseñas no coinciden</mat-error>
          </div>
        </div>

        <!-- Términos y Condiciones -->
        <div class="terms-group">
          <label class="checkbox-container">
            <input type="checkbox" required>
            <span class="terms-text">
              Acepto los <a href="#" class="link">Términos y Condiciones</a> y la <a href="#" class="link">Política de Privacidad</a>
            </span>
          </label>
        </div>

        <!-- Botón de Enviar -->
        <button type="submit" class="submit-btn" [disabled]="registerForm.invalid">Crear cuenta</button>
      </form>

      <div class="auth-links">
        <p>¿Ya tienes una cuenta? <a routerLink="/auth/login" class="link">Iniciar sesión</a></p>
      </div>
    </div>
  </div>
</div>

